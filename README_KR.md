# hid-mitm

Horizon hid (휴먼 인터페이스 장치) 서비스를 mitm하는 Sysmodule.

# 면책조항:
이 sysmodule은 **베타**입니다! 문제가 예상됩니다. 알려진 문제점 섹션에 나열되지 않은 것이 있으면 [여기](https://github.com/jakibaki/hid-mitm/issues) 로 보고하십시오.


# 기능
* 게임패드의 버튼을 리바인드합니다.

* 휴대폰/PC를 프록시로 사용하여 닌텐도 스위치에서 커스텀 게임패드를 사용합니다.

# 설정
hid-mitm은 stock atmosphere 상태에서도 완벽하게 작동하지만 추천 설치 프로그램은 hid-mitm을 쉽게 구성할 수 있는 멋진 Kosmos 도구상자가 사전 구성되어 있으므로 최신 [Kosmos](https://github.com/AtlasNX/Kosmos) 를 다운로드하는 것이 좋습니다.

Kosmos에서 Kosmos 도구상자를 열고 숨겨진 Mysm 모듈을 활성화하여 재부팅합니다.

Atmosphere에서 [릴리즈](https://github.com/jakibaki/hid-mitm/releases) 의 내용을 드래그하여 hid-mitm을 설치할 수 있습니다.

ReiNX에 대한 도움은 없습니다. 정상적이면 실행되지만 문제가 발생하면 보고하기 전에 지원되는 cfw를 사용해보십시오.

sxos에 대한 지원은 전혀 없습니다.

# 사용법
## 리바인딩 버튼
Kosmos 도구 상자를 열고 sysmodule 메뉴로 가서 거기에서 숨겨진 부분 메뉴를 계속 진행하십시오. (아래쪽 막대에 설명된 간단한 버튼 누름)

그런 다음 리바인딩하려는 버튼을 선택한 다음 리바인드 할 대상을 선택할 수 있는 화면이 나타납니다.
작업이 끝나면 중간에 있는 버튼을 눌러 변경사항을 저장하십시오.

`/config/hid_mitm/config.ini` 파일을 편집하여 수동으로 설정할 수도 있습니다.

## 커스텀 게임패드
hid-mitm을 사용하여 커스텀 게임 패드를 작동시키는 방법은 게임 패드를 스위치에 직접 연결하는 것이 아니라 게임 패드를 휴대폰 (및 실험적으로 pc)에 연결하여 hid-mitm 응용 프로그램을 실행하면 스위치가 입력을 추가 컨트롤러로 인식합니다.

[릴리즈 페이지](https://github.com/jakibaki/hid-mitm/releases) 에서 `companion_apps.zip`를 다운로드 합니다.

### 안드로이드
* 휴대폰의 zip 파일에서 `hid-mitm.apk` 파일을 설치하십시오.
* 스위치의 숨김 방지 기능이 활성화되어 있고 휴대 전화와 동일한 네트워크에 연결되어 있는지 확인하십시오. 스위치가 닌텐도 서버에 연결되는 것을 원하지 않는다면 90dns를 사용할 수 있습니다.
* 게임패드를 휴대폰에 연결하십시오.
* hid-mitm 앱 (네트워크 설정에서 찾을 수 있음)에 닌텐도 스위치의 IP 주소를 입력하고 "연결" 버튼을 누릅니다.
* 이제 스위치가 추가 프로 컨트롤러로 게임패드를 가져와야 합니다! :)

### iOS
* 휴대폰의 zip 파일에서 `hid-mitm.ipa`를 설치하십시오. Cydia Impactor를 사용할 수 있습니다. 탈옥하지 않고도 잘 작동합니다.
* 스위치의 숨김 방지 기능이 활성화되어 있고 휴대폰과 동일한 네트워크에 연결되어 있는지 확인하십시오. 스위치가 닌텐도 서버에 연결되는 것을 원하지 않는다면 90dns를 사용할 수 있습니다.
* 게임패드를 휴대폰에 연결하십시오 (애플은 사용하기에 적합한 게임패드 선택이 다소 제한적입니다)
* hid-mitm 앱 (네트워크 설정에서 찾을 수 있음)에 닌텐도 스위치의 IP 주소를 입력하고 "연결" 버튼을 누릅니다.
* 이제 스위치가 추가 프로 컨트롤러로 게임패드를 가져와야 합니다! :)

iOS에서 `l1+l2+r1+r2+x` 버튼을 인식하지 못하면 `-`에서 `+`와 `l1+l2+r1+r2+dpad-left`가 표시됩니다.

Hid-mitm은 또한 스크립트 입력 (예: "트위치 플레이")을 위해 쉽게 용도를 바꿀 수 있습니다.
hid-mitm과 통신하는 방법에 대한 참고 자료는`input_pc.py`를 확인하십시오.

# 알려진 문제

* 어떤 게임에서는 멀티 플레이로 연결되는 커스텀 게임패드로 몇 분 간격으로 "게임 패드 연결" 대화 상자가 나타납니다.
* hid-mitm와 sys-ftpd가 동시에 활성화되면 여러 가지 문제가 발생합니다.
* 일부 휴대폰은 블루투스 게임패드를 사용하는 경우 입력 지연이 발생할 수 있는 끔찍한 블루투스 연결이 있습니다. 나는 그것에 대해 아무것도 할 수 없으며, 그것은 안드로이드 문제입니다.
* 일부 와이파이 네트워크에서 아이폰에는 끔찍한 입력 지연이 발생할 수있는 문제가 있습니다. 휴대폰에서 핫스팟을 열고 스위치로 연결하면됩니다. 스위치가 모바일 데이터를 사용하지 않도록하려면 90dns를 사용하도록 설정해야합니다.
* 일부 게임 패드는 안드로이드에서 올바르게 맵핑되지 않습니다.  
안드로이드 개발 경험이 있는 사람이 "인터페이스 설정"을 추가하여 이 문제를 해결하고 싶다면 크게 감사하겠습니다.
* 테트리스 99는 어떤 이유에서든 커스텀 게임패드를 인식하지 않습니다.
* 스위치는 커스텀 게임패드를 "활성화"로 받아들이지 않는 것처럼 보이므로 화면이 잠시 후 자동으로 사라집니다. 시스템 설정에서 자동 화면 꺼짐 기능을 끄면 해결할 수 있습니다.

# 계획된 기능

* 여러 개의 커스텀 게임 패드 연결 지원
* 모션 컨트롤 지원
* (어쩌면) 진동 지원
* 게임 패드를 "위장"하는 것을 지원합니다. 예를 들어 프로 컨트롤러로 포켓몬을 즐길 수 있습니다.

# 지원

질문에 대한 답변을 얻는 가장 좋은 방법은 [AtlasNX discord](https://discord.gg/qbRAuy7) 에 질문하는 것입니다.

이슈 트래커를 일반적인 사용법의 질문으로 더럽히지 마십시오.
